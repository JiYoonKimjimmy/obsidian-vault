
```
Redis Stream 으로 데이터를 enqueue 하는 시점은 Processor 안에서 saveResult 이후 money API 호출하기 전에 Redis Stream 으로 데이터 enqueue 요청해야 해.

그렇다면 Processor 에서 카프카로부터 프로모션 처리 메시지를 수신하여 `프로모션 상태 확인 > 결과 저장(멱등성 보장) > Stream enqueue 요청` 까지 처리하는거야.

그리고, `Money API 요청 > 처리 결과 업데이트` 로직은 별도 Processor 함수 분리하여 구현하고, Redis Stream Consumer 에서 해당 함수를 호출하도록 구현해야해.

@redis-stream-development-plan.md 문서와 phase6 개발 문서를 작성해보자.
```
- **진행 완료**

---
```
Money API 실패 응답 코드별 재처리 로직 분기 처리
- 머니 서비스 미가입자인 경우
- 이미 사용한 상품권인 경우
```
- 진행 예정

---

```
Redis Stream PEL 메시지 재처리 로직 기능 구현 설계 필요.

PEL 메시지 재시도 처리 스레드도 항상 스케쥴링 되도록 돌아가고 있는 것이 아니라 캠페인 프로모션 시작 이벤트 트리거 발생 시, 재시도 처리 스레드를 실행할 수 있도록 가능한지 검토 및 설계 필요.
```
- 진행 예정

---

```
redis/stream/ 하위에 있는 클래스들의 로깅 처리되는 부분은 공통 규격게 맞게 작성하여 나중에 운영 환경에서 잘 추적할 수 있도록 하고 싶어.

기존 AbstractCampaignPromotionProcessor 쪽 로깅 방식을 참고하면 좋을 것 같아.
```
- 진행 예정

---

```
캠페인 프로모션 처리에 대한 처리 현황을 슬랙으로 알림 발송하는 기능 개발하고 싶어.
```
- 진행 예정