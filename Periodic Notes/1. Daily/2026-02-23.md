## 2M4W Team Scrum
- 주요 프로젝트
	- 오픈뱅킹
	- 케이뱅크
	- 앱테크
- 오픈뱅킹 프로젝트
	- 우리가 해야할 것이 좀 많다..
	- 3월초 오픈..??
	- 머니 서비스에서 해야할 오픈뱅킹 관련 개발 작업 필요
	- 케이뱅크 개발 업무와 겹치는 업무가 많음



```
first receive: 2026-02-23T11:57:15.354
first enqueue: 2026-02-23T11:57:17.826
first consume: 2026-02-23T11:57:18.903

last receive: 2026-02-23T11:57:19.546
last enqueue: 2026-02-23T11:57:20.355
last consume: 2026-02-23T11:57:20.858
```

---

아래 로그를 분석하여 각 구간별 처리 소요 시간을 평균적으로 구해줘.

- Kafka Listener 처리 소요 시간
- Redis Stream Consumer 처리 소요 시간

```
2026-02-23T13:02:15.331+09:00  INFO 66841 --- [prepay-admin] [ntainer#3-0-C-1] c.i.k.l.CampaignPromotionStartedListener : [CampaignPromotion][StartedListener][Receive] Received - partitionKey=76
2026-02-23T13:02:15.331+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#3-0-C-1] c.i.k.l.CampaignPromotionStartedListener : [CampaignPromotion][StartedListener][Receive] Message payload - partitionKey=76, message={"sentAt":"2026-02-23T13:02:14.91139","version":20231010,"topic":"prepay-campaign-promotion-started-test","payload":{"promotionId":"76","promotionType":"VOUCHER","totalCount":10}}
2026-02-23T13:02:16.680+09:00  INFO 66841 --- [prepay-admin] [ntainer#3-0-C-1] c.i.r.s.m.CampaignPromotionStreamManager : [CampaignPromotion][Manager][promotionId=76] Created consumer group: campaign-promotion-group:voucher:76 for stream: campaign-promotion-stream:voucher:76
2026-02-23T13:02:16.687+09:00  INFO 66841 --- [prepay-admin] [ntainer#3-0-C-1] .CampaignPromotionStreamConsumerRegistry : [CampaignPromotion][Registry][promotionId=76] Registered - consumers=8, startedAt=2026-02-23T04:02:16.686903Z
2026-02-23T13:02:16.688+09:00  INFO 66841 --- [prepay-admin] [ntainer#3-0-C-1] c.i.r.s.m.CampaignPromotionStreamManager : [CampaignPromotion][Manager][promotionId=76] Started consumers - type=VOUCHER, consumerCount=8, streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:16.689+09:00  INFO 66841 --- [prepay-admin] [ntainer#3-0-C-1] c.i.k.l.CampaignPromotionStartedListener : [CampaignPromotion][StartedListener][Receive][promotionId=76] Started consumers - type=VOUCHER, totalCount=10
2026-02-23T13:02:19.504+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=0
2026-02-23T13:02:19.504+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=0, message={"sentAt":"2026-02-23T13:02:19.476173","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36904","partitionKey":"0","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"D5RA-11LZ-8IAN-FWHL-B547","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:20.112+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=3
2026-02-23T13:02:20.112+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=3, message={"sentAt":"2026-02-23T13:02:20.055727","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36907","partitionKey":"3","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DRCZ-1O99-QDOC-EFNH-KHHM","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:21.420+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache miss - querying DB
2026-02-23T13:02:21.452+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache miss - querying DB
2026-02-23T13:02:22.164+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36904] Result saved
2026-02-23T13:02:22.164+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36907] Result saved
2026-02-23T13:02:22.219+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:22.231+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=3
2026-02-23T13:02:22.231+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=3, message={"sentAt":"2026-02-23T13:02:20.113593","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36911","partitionKey":"3","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DFC5-1MPU-GVUR-I4DU-FYS1","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:22.257+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:22.272+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=0
2026-02-23T13:02:22.272+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=0, message={"sentAt":"2026-02-23T13:02:19.50558","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36908","partitionKey":"0","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DHZW-1T3V-SZCT-SB2H-BJ7H","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:22.367+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:22.388+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:22.632+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36911] Result saved
2026-02-23T13:02:22.660+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36908] Result saved
2026-02-23T13:02:22.681+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:22.692+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=1
2026-02-23T13:02:22.693+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=1, message={"sentAt":"2026-02-23T13:02:20.441979","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36905","partitionKey":"1","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DJDW-1Z7S-GIJV-4XA7-G2GJ","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:22.742+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:22.754+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=0
2026-02-23T13:02:22.754+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=0, message={"sentAt":"2026-02-23T13:02:19.527371","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36912","partitionKey":"0","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DZ5T-1XA7-KTDD-SUXX-M12J","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:22.799+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36907] Succeeded - transactionKey=DCH1SbtS5blqKj60i03QGfc3wfCiiI
2026-02-23T13:02:22.799+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-1] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819342194-0, key=3
2026-02-23T13:02:22.804+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:22.838+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-0] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36911] Succeeded - transactionKey=DCH1EMEKz9Yfg68ZS1PR4u8tGBzVqd
2026-02-23T13:02:22.838+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-0] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819342659-0, key=3
2026-02-23T13:02:22.916+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:23.156+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36905] Result saved
2026-02-23T13:02:23.234+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:23.234+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=1
2026-02-23T13:02:23.234+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=1, message={"sentAt":"2026-02-23T13:02:20.456384","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36909","partitionKey":"1","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DHC2-1S4H-B2SW-TFLX-GJFR","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:23.308+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:23.370+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36912] Result saved
2026-02-23T13:02:23.370+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-6] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36908] Succeeded - transactionKey=DCH1iku9M1ZfWZWJMizIy02GO67dXq
2026-02-23T13:02:23.370+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-6] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819342721-0, key=0
2026-02-23T13:02:23.403+09:00 DEBUG 66841 --- [prepay-admin] [result-update-2] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:23.405+09:00 DEBUG 66841 --- [prepay-admin] [result-update-1] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:23.432+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:23.432+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=2
2026-02-23T13:02:23.432+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=2, message={"sentAt":"2026-02-23T13:02:19.788068","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36906","partitionKey":"2","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DK3N-1LY8-AFIZ-AQMV-RXNG","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:23.453+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36904] Succeeded - transactionKey=DCH1xubU9AxTOBWyov811Qa4lln8nV
2026-02-23T13:02:23.453+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-1] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819342231-0, key=0
2026-02-23T13:02:23.561+09:00 DEBUG 66841 --- [prepay-admin] [result-update-2] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36911][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:23.585+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36909] Result saved
2026-02-23T13:02:23.620+09:00 DEBUG 66841 --- [prepay-admin] [result-update-1] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36907][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:23.679+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:23.725+09:00 DEBUG 66841 --- [prepay-admin] [result-update-3] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:23.824+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:23.825+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=1
2026-02-23T13:02:23.825+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=1, message={"sentAt":"2026-02-23T13:02:20.49198","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36913","partitionKey":"1","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DUBY-1AAP-LYGP-AIIB-M2KC","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:23.837+09:00 DEBUG 66841 --- [prepay-admin] [result-update-3] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36908][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:23.919+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:23.986+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36906] Result saved
2026-02-23T13:02:24.017+09:00 DEBUG 66841 --- [prepay-admin] [result-update-4] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:24.038+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:24.038+09:00  INFO 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=2
2026-02-23T13:02:24.038+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=2, message={"sentAt":"2026-02-23T13:02:19.800788","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"76","promotionSummaryId":"76","voucherTargetId":"36910","partitionKey":"2","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DDKG-10HW-U3JJ-JFP6-AYCT","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:02:24.127+09:00 DEBUG 66841 --- [prepay-admin] [result-update-4] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36904][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:24.151+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=76][StatusCache] Cache hit - inProgress=true
2026-02-23T13:02:24.210+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36913] Result saved
2026-02-23T13:02:24.267+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:24.412+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-5] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36905] Succeeded - transactionKey=DCH1qnXGw0V2gVEN8pzgoB307s8kyg
2026-02-23T13:02:24.413+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-5] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819343197-0, key=1
2026-02-23T13:02:24.465+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-7] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36913] Succeeded - transactionKey=DCH1FLMfvaU3A3M9wIGUTPORyi4SgG
2026-02-23T13:02:24.465+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-7] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819344250-0, key=1
2026-02-23T13:02:24.612+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=76][targetId=36910] Result saved
2026-02-23T13:02:24.658+09:00 DEBUG 66841 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=76] Enqueued - streamKey=campaign-promotion-stream:voucher:76
2026-02-23T13:02:24.749+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-4] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36909] Succeeded - transactionKey=DCH16vvxR3ydMtGb5dHyMzIHqbBeAN
2026-02-23T13:02:24.749+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-4] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819343808-0, key=1
2026-02-23T13:02:24.767+09:00 DEBUG 66841 --- [prepay-admin] [result-update-5] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:24.824+09:00 DEBUG 66841 --- [prepay-admin] [result-update-6] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:24.915+09:00 DEBUG 66841 --- [prepay-admin] [result-update-5] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36905][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:24.958+09:00 DEBUG 66841 --- [prepay-admin] [result-update-6] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36913][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:24.965+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-6] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36906] Succeeded - transactionKey=DCH1ZOhZpI7CafaMMnKEny1d4GbasE
2026-02-23T13:02:24.965+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-6] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819344015-0, key=2
2026-02-23T13:02:25.098+09:00 DEBUG 66841 --- [prepay-admin] [result-update-7] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:25.196+09:00 DEBUG 66841 --- [prepay-admin] [result-update-7] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36909][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:25.202+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-5] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36912] Succeeded - transactionKey=DCH17emj33lyxBTN5wbIVDFuMHYYFx
2026-02-23T13:02:25.202+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-5] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819343405-0, key=0
2026-02-23T13:02:25.315+09:00 DEBUG 66841 --- [prepay-admin] [result-update-8] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:25.403+09:00 DEBUG 66841 --- [prepay-admin] [result-update-8] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36906][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:25.437+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-0] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=76][targetId=36910] Succeeded - transactionKey=DCH1cgAeN2Y6k1gDaNV22MixROPlQ3
2026-02-23T13:02:25.437+09:00 DEBUG 66841 --- [prepay-admin] [ream-promo-76-0] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771819344638-0, key=2
2026-02-23T13:02:25.724+09:00 DEBUG 66841 --- [prepay-admin] [result-update-9] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:25.744+09:00 DEBUG 66841 --- [prepay-admin] [esult-update-10] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=76][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:02:25.819+09:00 DEBUG 66841 --- [prepay-admin] [result-update-9] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36912][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:25.847+09:00 DEBUG 66841 --- [prepay-admin] [esult-update-10] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36910][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:02:55.495+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-3] m.CampaignPromotionStreamConsumerFactory : [CampaignPromotion][Polling] Idle timeout (30s) - consumer=jiyoonkim-mac.local-66841-consumer-3
2026-02-23T13:02:55.639+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-3] .CampaignPromotionStreamConsumerRegistry : [CampaignPromotion][Registry] Deleted stream=campaign-promotion-stream:voucher:76, group=campaign-promotion-group:voucher:76
2026-02-23T13:02:55.639+09:00  INFO 66841 --- [prepay-admin] [ream-promo-76-3] .CampaignPromotionStreamConsumerRegistry : [CampaignPromotion][Registry][promotionId=76] Shutdown

```

개선 진행한 후에 테스트한 결과야. 동일하게 소요 시간 분석해줘.

```
2026-02-23T13:50:00.424+09:00  INFO 78329 --- [prepay-admin] [ntainer#3-0-C-1] c.i.k.l.CampaignPromotionStartedListener : [CampaignPromotion][StartedListener][Receive] Received - partitionKey=78
2026-02-23T13:50:00.425+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#3-0-C-1] c.i.k.l.CampaignPromotionStartedListener : [CampaignPromotion][StartedListener][Receive] Message payload - partitionKey=78, message={"sentAt":"2026-02-23T13:49:59.982531","version":20231010,"topic":"prepay-campaign-promotion-started-test","payload":{"promotionId":"78","promotionType":"VOUCHER","totalCount":10}}
2026-02-23T13:50:01.783+09:00  INFO 78329 --- [prepay-admin] [ntainer#3-0-C-1] c.i.r.s.m.CampaignPromotionStreamManager : [CampaignPromotion][Manager][promotionId=78] Created consumer group: campaign-promotion-group:voucher:78 for stream: campaign-promotion-stream:voucher:78
2026-02-23T13:50:01.788+09:00  INFO 78329 --- [prepay-admin] [ntainer#3-0-C-1] .CampaignPromotionStreamConsumerRegistry : [CampaignPromotion][Registry][promotionId=78] Registered - consumers=8, startedAt=2026-02-23T04:50:01.787884Z
2026-02-23T13:50:01.789+09:00  INFO 78329 --- [prepay-admin] [ntainer#3-0-C-1] c.i.r.s.m.CampaignPromotionStreamManager : [CampaignPromotion][Manager][promotionId=78] Started consumers - type=VOUCHER, consumerCount=8, streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:01.790+09:00  INFO 78329 --- [prepay-admin] [ntainer#3-0-C-1] c.i.k.l.CampaignPromotionStartedListener : [CampaignPromotion][StartedListener][Receive][promotionId=78] Started consumers - type=VOUCHER, totalCount=10
2026-02-23T13:50:04.908+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=0
2026-02-23T13:50:04.908+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=0, message={"sentAt":"2026-02-23T13:50:04.758508","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36924","partitionKey":"0","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DU3H-1GRF-MGTH-6HFS-EIPZ","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:05.067+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=3
2026-02-23T13:50:05.067+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=3, message={"sentAt":"2026-02-23T13:50:04.997867","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36927","partitionKey":"3","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DRR0-1JAV-ZJ4J-7TGY-CKOV","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:06.710+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache miss - querying DB
2026-02-23T13:50:06.756+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache miss - querying DB
2026-02-23T13:50:07.448+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36927] Result saved
2026-02-23T13:50:07.458+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36924] Result saved
2026-02-23T13:50:07.491+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:07.527+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:07.537+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=3
2026-02-23T13:50:07.538+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=3, message={"sentAt":"2026-02-23T13:50:05.063775","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36931","partitionKey":"3","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DLEM-1PFH-SR42-XXMC-SX3C","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:07.540+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=0
2026-02-23T13:50:07.540+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=0, message={"sentAt":"2026-02-23T13:50:04.904313","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36928","partitionKey":"0","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DBUI-1C2J-5LOS-SQCE-QNEW","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:07.682+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:07.722+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:07.945+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36931] Result saved
2026-02-23T13:50:07.996+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:08.016+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=1
2026-02-23T13:50:08.016+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=1, message={"sentAt":"2026-02-23T13:50:05.17554","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36925","partitionKey":"1","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DMMD-1VJM-WGKT-9BCQ-E7YU","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:08.116+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:08.132+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36928] Result saved
2026-02-23T13:50:08.181+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:08.193+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=0
2026-02-23T13:50:08.193+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=0, message={"sentAt":"2026-02-23T13:50:04.978573","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36932","partitionKey":"0","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DJQC-1ANL-O3QI-HMXC-SQVJ","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:08.272+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-5] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36927] Succeeded - transactionKey=DCH12iL45G4r5MhU5o3CUm6KlONFDy
2026-02-23T13:50:08.272+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-6] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36931] Succeeded - transactionKey=DCH1Y1ifERq0uEmuRpbk169IoZgQcm
2026-02-23T13:50:08.272+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-5] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822207472-0, key=3
2026-02-23T13:50:08.272+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-6] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822207975-0, key=3
2026-02-23T13:50:08.336+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:08.377+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-4] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36928] Succeeded - transactionKey=DCH1ixmFj6wle05oSw0USCN40gExw1
2026-02-23T13:50:08.377+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-4] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822208156-0, key=0
2026-02-23T13:50:08.421+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36925] Result saved
2026-02-23T13:50:08.515+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-5] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36924] Succeeded - transactionKey=DCH1K6aHp8vcxgMssGxrG9DdnznYIn
2026-02-23T13:50:08.515+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-5] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822207507-0, key=0
2026-02-23T13:50:08.640+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:08.640+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=1
2026-02-23T13:50:08.640+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=1, message={"sentAt":"2026-02-23T13:50:05.219635","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36929","partitionKey":"1","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DJCM-1YNX-B7CE-OJ0H-KA55","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:08.688+09:00 DEBUG 78329 --- [prepay-admin] [result-update-2] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:08.791+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:08.843+09:00 DEBUG 78329 --- [prepay-admin] [result-update-2] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36927][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:08.890+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36932] Result saved
2026-02-23T13:50:08.895+09:00 DEBUG 78329 --- [prepay-admin] [result-update-4] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:08.925+09:00 DEBUG 78329 --- [prepay-admin] [result-update-2] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:08.925+09:00 DEBUG 78329 --- [prepay-admin] [result-update-3] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:08.987+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:08.987+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=2
2026-02-23T13:50:08.987+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=2, message={"sentAt":"2026-02-23T13:50:05.540305","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36926","partitionKey":"2","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DVHE-1PML-XHVI-2TAJ-BTTW","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:09.075+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36929] Result saved
2026-02-23T13:50:09.075+09:00 DEBUG 78329 --- [prepay-admin] [result-update-4] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36924][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:09.120+09:00 DEBUG 78329 --- [prepay-admin] [result-update-3] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36928][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:09.121+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-7] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36925] Succeeded - transactionKey=DCH108aTlsxwYpwO0e6uLWbndjLiwk
2026-02-23T13:50:09.121+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-7] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822208623-0, key=1
2026-02-23T13:50:09.134+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-3] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36932] Succeeded - transactionKey=DCH1tepaYCmAQPJrytXt4J3u52Mcn6
2026-02-23T13:50:09.134+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-3] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822208970-0, key=0
2026-02-23T13:50:09.165+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:09.165+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=1
2026-02-23T13:50:09.165+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=1, message={"sentAt":"2026-02-23T13:50:05.242356","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36933","partitionKey":"1","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"D5L0-1NQ2-URRS-UMTD-OSLL","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:09.221+09:00 DEBUG 78329 --- [prepay-admin] [result-update-2] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36931][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:09.279+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:09.377+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:09.539+09:00 DEBUG 78329 --- [prepay-admin] [result-update-5] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:09.539+09:00 DEBUG 78329 --- [prepay-admin] [result-update-6] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:09.568+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36926] Result saved
2026-02-23T13:50:09.643+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36929] Succeeded - transactionKey=DCH1k73rFdIRYP0LdG6gGd564jitKC
2026-02-23T13:50:09.643+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-1] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822209139-0, key=1
2026-02-23T13:50:09.675+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:09.675+09:00  INFO 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Received - partitionKey=2
2026-02-23T13:50:09.675+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.i.k.l.CampaignVoucherPromotionListener : [CampaignPromotion][VoucherListener][Receive] Message payload - partitionKey=2, message={"sentAt":"2026-02-23T13:50:05.553818","version":20231010,"topic":"prepay-campaign-promotion-voucher-publish-test","payload":{"promotionId":"78","promotionSummaryId":"78","voucherTargetId":"36930","partitionKey":"2","customerUid":"283","merchantCode":"STORE","merchantBrandCode":"MUSINSAPAYMENTS_001","campaignCode":"camp-promotion-6","amount":"100.00","voucherNumber":"DI9M-1FSV-CKV6-46AZ-BG7O","description":"다시다시","expiredAt":"2028-12-31","isWithdrawal":false}}
2026-02-23T13:50:09.676+09:00 DEBUG 78329 --- [prepay-admin] [result-update-5] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36925][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:09.701+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36933] Result saved
2026-02-23T13:50:09.725+09:00 DEBUG 78329 --- [prepay-admin] [result-update-6] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36932][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:09.806+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] .a.s.CampaignPromotionStatusCacheService : [CampaignPromotion][promotionId=78][StatusCache] Cache hit - inProgress=true
2026-02-23T13:50:09.842+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-1-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:10.134+09:00 DEBUG 78329 --- [prepay-admin] [result-update-7] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:10.141+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Receive][promotionId=78][targetId=36930] Result saved
2026-02-23T13:50:10.183+09:00 DEBUG 78329 --- [prepay-admin] [ntainer#4-0-C-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][Enqueue][promotionId=78] Enqueued - streamKey=campaign-promotion-stream:voucher:78
2026-02-23T13:50:10.209+09:00 DEBUG 78329 --- [prepay-admin] [result-update-7] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36929][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:10.272+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-2] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36926] Succeeded - transactionKey=DCH1eW7U9iP15cuVzXgi9ABRSbseo3
2026-02-23T13:50:10.272+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-2] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822209640-0, key=2
2026-02-23T13:50:10.427+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-4] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36933] Succeeded - transactionKey=DCH1IkP59D3TuM8zuZah7RIHA8kfwJ
2026-02-23T13:50:10.427+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-4] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822209827-0, key=1
2026-02-23T13:50:10.681+09:00 DEBUG 78329 --- [prepay-admin] [result-update-8] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:10.748+09:00 DEBUG 78329 --- [prepay-admin] [result-update-9] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:10.783+09:00 DEBUG 78329 --- [prepay-admin] [result-update-8] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36926][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:10.791+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-1] c.a.p.AbstractCampaignPromotionProcessor : [CampaignPromotion][VoucherProcessor][MoneyApi][promotionId=78][targetId=36930] Succeeded - transactionKey=DCH1nLnp9UuEhE6wYlS6qaGgqJd0c5
2026-02-23T13:50:10.791+09:00 DEBUG 78329 --- [prepay-admin] [ream-promo-78-1] .i.r.s.c.CampaignPromotionStreamConsumer : [CampaignPromotion][StreamConsumer][Consume] Processed - recordId=1771822210163-0, key=2
2026-02-23T13:50:10.877+09:00 DEBUG 78329 --- [prepay-admin] [result-update-9] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36933][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:11.278+09:00 DEBUG 78329 --- [prepay-admin] [esult-update-10] mpaignPromotionSummaryUpdateEventHandler : [CampaignPromotion][summaryId=78][EventListener] Cache updated - action=incrementSuccess
2026-02-23T13:50:11.358+09:00 DEBUG 78329 --- [prepay-admin] [esult-update-10] ampaignPromotionResultUpdateEventHandler : [CampaignPromotion][targetId=36930][Voucher][ResultUpdateEventHandler] Success updated
2026-02-23T13:50:40.892+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-4] m.CampaignPromotionStreamConsumerFactory : [CampaignPromotion][Polling] Idle timeout (30s) - consumer=jiyoonkim-mac.local-78329-consumer-4
2026-02-23T13:50:41.010+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-4] .CampaignPromotionStreamConsumerRegistry : [CampaignPromotion][Registry] Deleted stream=campaign-promotion-stream:voucher:78, group=campaign-promotion-group:voucher:78
2026-02-23T13:50:41.011+09:00  INFO 78329 --- [prepay-admin] [ream-promo-78-4] .CampaignPromotionStreamConsumerRegistry : [CampaignPromotion][Registry][promotionId=78] Shutdown
```


```
@src/main/kotlin/com/musinsapayments/prepay/application/prepay/admin/campaign/infrastructure/redis/stream/manager/CampaignProm
  otionStreamConsumerFactory.kt 에서 streamRedisTemplate.xReadGroup 으로 messages 를 조회한 후에 비어있지 않다면 forEach 로 순차  
  처리하는 방법이 아니라 병렬로 처리하면 어떨까?
```


```
cache miss
2026-02-23T14:29:40.906 - receive
2026-02-23T14:29:41.541 - saved
2026-02-23T14:29:41.598 - enqueue

cache hit
2026-02-23T14:29:41.613 - receive
2026-02-23T14:29:42.015 - saved
2026-02-23T14:29:42.067 - enqueue
```


```
2026-02-23T17:12:46.185 - receive

```