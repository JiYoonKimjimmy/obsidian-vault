1. MSA로 분리 후 행복하게 살았답니다?: Go Server의 성장기
2. 달리는 자동차의 잠금장치 교체하기: 인증 시스템의 중앙화
3. 어느 날, 이미지 CDN이 터졌습니다: 킬 스위치
4. 10x 빠르게 10x 싸게: Quickwit 기반 신규 로그 파이프라인
5. 로컬 스크립트에서 하루에 한 번 돌아가는 파이프라인이 되기까지: 당근지도의 여정
6. 복잡한 공간 데이터를 가볍고 빠르게 서빙하기
7. 당근페이 송금의 플랫폼화: 중고거래 채팅 벗어나기

---

## MSA로 분리 후 행복하게 살았답니다?: Go Server의 성장기

### Summary: Go언어 기반 백엔드 애플리케이션 개발 후기

- 모놀리식 서비스에서 Go언어 마이크로-서비스 분리
 - Go의 철학: "Go is influenced by C, but with an emphasis on greater **simplicity and safety.** - Go는 C의 영향을 받았지만, **더 큰 단순성과 안전성을 강조합니다.**"

#### Spring vs. Go

| 구분     | Spring                                                                    | Go                                              |
| ------ | ------------------------------------------------------------------------- | ----------------------------------------------- |
| 핵심 철학  | “복잡한 엔터프라이즈 개발을 추상화하여 생산성을 높이자”                                           | “복잡성을 줄이고 단순하고 명확하게 만들자”                        |
| 슬로건·정신 | “Don’t Repeat Yourself (DRY), Inversion of Control, Dependency Injection” | “Simplicity over Magic, Explicit over Implicit” |
| 지향점    | 생산성 + 유연성 + 확장성                                                           | 단순성 + 명료함 + 실행 효율                               |

#### Go의 철학인 **단순성** 때문에 개발 생산성 저하 문제 발생
- 회원 가입 & 로그인 메인 함수 총 라인 수 1,000 줄 이상 / 테스트 코드 12,000 줄 이상
- 새로운 기능 추가할 때마다 수많은 파일 및 코드 수정
- 코드 작성 시간 중 60% 이상 테스트 코드 작성으로 소요

#### Layered Architecture 적용으로 개발 생산성 향상
- Presentation Layer: API 표현 구현 영역
- Logic Layer: 비즈니스 로직 구현 영역
- Data Layer: DB트랜잭션, 외부 서버 호출 구현 영역
- 기능 별 전처리 함수 공통화, 메인 함수의 서비스 로직 분리
	- 중복 비즈니스 로직 최소화
	- 테스트 코드 -70% 감소

##### 서비스 순환 참조 문제 발생
- Go언어 main 함수에서 서비스 클래스 의존성 관계 관리
##### DB트랜잭션 관리 문제 발생
- Transaction Outbox 패턴 적용으로 DB트랜잭션 ACID 보장 강화
##### 동일 리소스 DB 중복 조회 문제 발생
- Go Context 캐싱 처리를 통해 문제 해결

---

## 달리는 자동차의 잠금장치 교체하기: 인증 시스템의 중앙화

### Summary: 인증 시스템의 보안 & 성능 개선 & 중앙 인증 시스템 무중단 서비스 오픈 후기

#### 기존 인증 시스템 문제
- 보안 문제: 한번 발급되면 로그아웃전까지 유효
- 성능 문제: DB에 발급 토큰을 모두 직접 저장

#### 보안 & 성능 문제 해결 방안
- JWT + 토큰 페어 방식으로 보안 문제 해결
	- 만료 시간까지 포함한 JWT 방식으로 성능 문제 해결
	- 짧은 만료 시간을 가진 Access Token 과 토큰 갱신하는 Refresh Token 활용한 토큰 페어 방식으로 보안 문제 해결 

#### 인증 시스템 중앙화
- 수많은 마이크로 서비스 앞단에 위치한 인증 시스템을 통합하는 중앙 인증 시스템 구축
- Istio 활용한 AS-IS 서비스 중단 없이 인증 시스템 교체
	- [Istio 관련 로직 설명 (p20~)](https://file.notion.so/f/f/05b6560f-4c34-4811-bdc3-c653ef40ed27/adaf4e9a-2575-4304-9c67-93b6070593f7/2._달리는_자동차의_잠금장치_교체하기__인증_시스템의_중앙화_-_오현준(Mandy.oh).pdf?table=block&id=2a428c3a-9f8f-80b4-b200-d36718905172&spaceId=05b6560f-4c34-4811-bdc3-c653ef40ed27&expirationTimestamp=1762717660277&signature=sBCmac9iZAEOgZKloH0CTI6xkX7y0Av6qH1U3Aa15sc&downloadName=2.+달리는+자동차의+잠금장치+교체하기_+인증+시스템의+중앙화+-+오현준%28Mandy.oh%29.pdf)
- 기존 시스템 구조: 인증 필요한 마이크로-서비스 로직 앞단 인증 시스템 호출하여 인증 처리
- 신규 시스템 구조: 클라이언트 요청을 Istio 정책에 의해 신규 인증 시스템으로 호출하여 인증 처리 후, 마이크로-서비스로 라우팅하도록 구조 변경

---

## 어느 날, 이미지 CDN이 터졌습니다: 킬 스위치

### Summary: IaC 개발을 통해 인프라 장애 대응 후기

![킬 스위치](images/daangn-tech-meetup-03.png)

---

## 10x 빠르게 10x 싸게: Quickwit 기반 신규 로그 파이프라인

### Summary: 신규 로그 시스템 도입 & 로그 수집 파이프라인 개선 후기

#### 기존 로그 시스템 문제점
- Grafana Loki 문제점: 느린 검색 속도, 검색 시간 축소하여 로그 검색 필요
	- 지정한 Label 기준으로만 인덱싱하기 때문에 본문 풀-텍스트 검색 성능 저하
- OpenSearch 문제점: 높은 운영 비용, 짧은 보관 기간
	- 역인덱싱 처리로 인해 높은 풀-텍스트 검색 성능을 보장
	- 하지만, S3 저장 대비 약 3배 이상 높은 보관 비용

#### Quickwit 도입한 신규 로그 시스템
- Quickwit: Cloud Storage 기반의 로그 검색 시스템
	- 역인덱스 사용한 높은 풀-텍스트 검색 성능 보장
		- Split 기반 로그 데이터 저장
	- 객체 저장소에 저장하는 보관 방식으로 낮은 비용으로 운영 가능
	- 스토리지 컴퓨팅 분리를 통한 적은 리소스로 운영 가능

#### 신규 로그 수집 파이프라인 개선

![신규 로그 수집 파이프라인](images/daangn-tech-meetup-04.png)
- k8s Pod 로그 데이터 수집하여 Kafka 를 통해 Quickwit 으로 로그 수집
- OpenSearch 대비 로그 볼륨은 4배 이상 증가 & 90프로 이상 비용 감소
- Loki 대비 검색 속도 4~10배 이상 성능 향상

---

## 로컬 스크립트에서 하루에 한 번 돌아가는 파이프라인이 되기까지: 당근지도의 여정

### Summary: 당근에서 지도 플랫폼 구축 후기 

---

## 복잡한 공간 데이터를 가볍고 빠르게 서빙하기

### Summary: 행정구역 변경, 아파트 데이터 수집, 역세권 데이터 수집 시스템 구축 후기

---

## 당근페이 송금의 플랫폼화: 중고거래 채팅 벗어나기

### Summary: 당근페이 송금 서비스 추상화를 통한 플랫폼화 후기

---
