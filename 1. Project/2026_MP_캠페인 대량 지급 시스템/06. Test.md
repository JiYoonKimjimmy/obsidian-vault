## 캠페인 프로모션 테스트 시나리오
### 로컬 테스트
- [x] 단일 프로모션 성공 테스트
- [x] 단일 프로모션 1회 실패 > 재처리 성공 테스트
- [x] 단일 프로모션 1회 실패 > 재처리 실패 > DLT 메시지 발행 테스트
- [x] 다중 프로모션 성공 테스트
### Sandbox 테스트
- [ ] 단일 프로모션 성공 테스트
- [ ] 단일 프로모션 1회 실패 > 재처리 성공 테스트
- [ ] 단일 프로모션 1회 실패 > 재처리 실패 > DLT 메시지 발행 테스트
- [ ] 다중 프로모션 성공 테스트

---

## 테스트 방법

1. 캠페인 프로모션 데이터 생성
```sql
-- 상품권 데이터 자동 생성  
CALL prepay_admin.generate_campaign_voucher_from_issued('camp-promotion-6', 1, 4);
-- 모든 테스트 데이터 삭제  
-- CALL prepay_admin.delete_campaign_by_code('camp-promotion-6');
```
2. 캠페인 프로모션 예약 일시 기준 `prepay-batch` Job 실행
```bash
--spring.batch.job.name=CampaignPromotionPublisherJob executionTime={reservation_at}
```

---

## 프로모션 대상자 정보

### 1월 27일 기준
```sql
select distinct ect.customer_uid  
from money.event_charge_target ect  
inner join money.event_target et  
on ect.member_uid = et.member_uid  
;
```
