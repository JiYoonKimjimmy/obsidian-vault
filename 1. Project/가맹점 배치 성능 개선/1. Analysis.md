## 레거시 시스템 분석

### 비즈니스 로직

1. SFTP 전문 수신하여 가맹점 데이터 저장 처리 
	1. `가맹점번호` 기준 KB 가맹점 DB 조회
		1. 기존 정보 있는 경우, 정보 변경
		2. 기존 정보 없는 경우, 신규 등록
	2. `KB_MERCHANT` 테이블 DB 저장
	3. `KB_MERCHANT_HISTORY` 테이블 DB 저장
2. 가맹점 주소 기준 `KAS` 좌표 정보 조회하여 데이터 저장 처 
3. 가맹점 저장 처리 후 `LBMS` 가맹점 등록 요청 처리

#### 1차 성능 개선
##### 레거시 시스템 기준 성능 측정 결과

- 단일 데이터 처리 속도 평균 : 1초
- 1000건 데이터 처리 속도 평균 : 110초

| RECORD_COUNT |     START_TIME      |      END_TIME       |  DURATION |
| -----------: | :-----------------: | :-----------------: | --------: |
|            1 | 2025-02-20 16:47:05 | 2025-02-20 16:47:07 |   1228 ms |
|         1000 | 2025-02-20 16:47:51 | 2025-02-20 16:49:42 | 111939 ms |
##### 개선 사항

- `LBMS` 가맹점 등록 API 요청을 하기 위한 ApplicationEvent 단건 발행
- 단건 발행하지 않고, chunk size 만큼의 가맹점 데이터를 다건 Event 발행 처리하도록 수정
###### 개선 결과

- 단일 데이터 처리 속도 평균 : 0.8초
- 1000건 데이터 처리 속도 평균 : 100초

| RECORD_COUNT |     START_TIME      |      END_TIME       |  DURATION |
| -----------: | :-----------------: | :-----------------: | --------: |
|            1 | 2025-02-25 15:26:18 | 2025-02-25 15:26:19 |    848 ms |
|         1000 | 2025-02-25 15:28:02 | 2025-02-25 15:29:50 | 108452 ms |

----

#### 2차 성능 개선

##### 개선 사항

- `ItemWriter` 